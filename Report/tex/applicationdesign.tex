\chapter{Application Design}
\label{chap:design}
%TODO {short intro}

\section{SECTION NAME}
\label{sec:}
When running a survey on the phone, the user will expect the questions to be stored intermediately, allowing him/her to navigate back and forth between questions without discarding the answers already typed in.

\begin{center}
\begin{tikzpicture}[>=stealth',shorten >=1pt,auto,node distance=2.0cm]
\node[initial,state,label=$q_1$] (q1) {};
\node[state,label=above:$q_2$] (q2) [below left of=q1] {};
\node[state,label=above:$q_3$] (q3) [below right of=q1] {};
\node[state,label=above:$q_4$] (q4) [below left of=q2] {};
\path[->]
(q1) edge node {male} (q2)
(q1) edge node {female} (q3)
(q2) edge node {stuff} (q4);
\end{tikzpicture} \hspace{10mm}
\end{center}


\section{Metamodel}
\label{sec:metamodel}
This section presents the domain model for the application. Majority of objects presented in model are described in glossary. This model is supposed to support all the examples (sometimes with small extensions, e.g. to DataType class). It consists of two main parts - Survey Scheme, that will reflect the DSL structure and Survey Instance, that store the user answers from each time the survey has been filled in.

\begin{figure}
  \includegraphics[scale=0.78]{\imgdir "meta-model"}
  \caption{Metamodel for the survey DSL.}
  \label{fig:metamodel}
\end{figure}

%TODO {write more}