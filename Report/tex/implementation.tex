\chapter{Implementation}
\label{chap:implementation}
This chapter provides information about implementation of the system. Specifically, the created domain specific language is presented and some details of the smartphone app prototype are discussed.

\section{Domain Specific Language}
\label{sec:dsl}
In this section, the DSL for defining surveys is presented. 
%TODO write more here

Below, the eBNF grammar definition for the DSL can be seen.
\begin{grammar}
\label{grammar:ebnf}
      <survey> ::= `SURVEY', <text>, `:', <parts> ;
      
      <parts> ::= <part>, $\lbrace$ <part> $\rbrace$ ; 
       
      <part> ::= `PART', <text>, `:', {[} <repetitions> {]}, <questions> ;
      
      <repetitions> ::= `REPEAT:', <frequency> ;
      
      <questions> ::= <question>, $\lbrace$ <question> $\rbrace$ ;
      
      <question> ::= `QUESTION', <number>, `:', <text>, <options>, <answers> ;
      
      <options> ::= {[} <mandatory> {]}, {[} <prerequisites> {]}, <answer type> ;
      
      <mandatory> ::= `MANDATORY:', <bool> ;
      
      <prerequisites> ::= `PREREQUISITES:', ( $\lbrace$ <prerequisite> $\rbrace$ | `None' ) ;
      
      <answer type> ::= `ANSWER TYPE:', <choice> | <free> ;
      
      <choice> ::= <multiplicity>, {[} `/', <type> {]} ;
      
      <free> ::= `Free', {[} `/', <sensor> {]} ;
      
      <prerequisite> ::= `Q', <number>, `->', ( <answer> | <expression> ) ;
      
      <answers> ::= `ANSWERS:', <answer>, `/', <answer>, $\lbrace$ `/', <answer> $\rbrace$ ;
      
      <answer> ::= <number>, <text> ;
         
      <multiplicity> ::= `Single' | ( `Multiple', {[} `/', <limit> {]} ) ;
      
      <frequency> ::= `Hourly' | `Daily' | `Weekly' | `Bi-Weekly' | `Monthly' | `Yearly' | <other> ;
      
      <limit> ::= ( <number>, `..', <number> ) | `No limit' ;
      
      <sensor> ::= ( `Temperature' | `GPS' | <other> ), `sensor' ;
      
      <bool> ::= `Yes' | `No' ;
      
      <type> ::= `Integer' | `Float' | `Boolean' | `String' | `Date' | <other> ;
      
      <expression> ::= ?logic expression? ;
      
      <text> ::= ?unicode literal? ;
      
      <number> ::= {[} `-' {]}, ?numeric literal? ;
      
      <other> ::= ?future addition? ;
\end{grammar}

\section{Smartphone App}
\label{sec:app}
In this section, the more interesting details of the smartphone app prototype implementation are outlined.
%TODO remember to mention cross platform/Xamarin